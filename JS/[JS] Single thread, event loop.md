HTML saves - Event loop 참고
✨ https://chanyeong.com/blog/post/44
https://prohannah.tistory.com/59

메인 프로그램(프로그래머가 짜준 JS 코드)을 처리하는 주체는 단 하나의 메인 쓰레드.

기타 여러 이벤트를 처리하는 '워커'들은 멀티쓰레드



비동기 이벤트 처리 (Asynchronous, non-blocking)를 위해 이런 구조를 택했는데,

근데, 멀티쓰레드로 처리한 여러 이벤트를 싱글 쓰레드로 다 처리할 수 있나? 

→ task queue (callback queue) + 이벤트 루프 개념이 여기서 등장.

멀티쓰레드로 처리한 이벤트들은 이벤트 후 실행할 콜백 함수를 task queue에 저장해뒀다가, 싱글 쓰레드 메인 프로그램이 끝나면 이벤트 루프에 의해 메인 스택으로 옮겨져 메인 쓰레드에 의해 처리됨.

즉, 결국 모든 명령어는 메인 쓰레드 하나에 의해 순차적으로 처리됨.



I/O 처리가 잦은 웹의 성격상, 동시성(Concurrency) 구현을 위해 I/O는 멀티쓰레드로 맡긴 것.

Q. 그럼 메인 쓰레드까지 멀티 쓰레딩 하지, 왜 단일 쓰레드로?
→ 멀티 쓰레딩 시 나타나는 여러 문제점 (스케쥴링, 동기화, 데드락 등) 때문에, 그냥 단일 쓰레드로 타협본 듯.
속도를 희생한 대신, 간편함을 얻었음. 이 간편함을 바탕으로 여러 프로그래머들이 다양한 어플리케이션을 짜서 엄청난 확장성을 가지게 됬다고 볼 수 있겠다.



